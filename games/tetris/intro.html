<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-en="Tetris Guide" data-zh-Hant="俄羅斯方塊指南">
      Tetris Guide
    </title>
    <link rel="stylesheet" href="../../assets/style.css" />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        min-height: 100vh;
        background-color: #202028;
        color: #fff;
        transition: background-color 0.3s, color 0.3s;
        display: block; /* Override flex from style.css if generic, or ensure it flows */
      }
      body.light-mode {
        background-color: #f0f0f0;
        color: #333;
      }
      .guide-container {
        max-width: 800px;
        margin: 40px auto;
        padding: 30px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      }
      body.light-mode .guide-container {
        background: #fff;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }
      h1 {
        margin-top: 0;
        color: #4caf50;
      }
      h2 {
        border-bottom: 2px solid #4caf50;
        padding-bottom: 10px;
        margin-top: 40px;
        color: #0dc2ff;
      }
      body.light-mode h2 {
        color: #007bb5;
      }

      ul {
        line-height: 1.6;
      }
      li {
        margin-bottom: 10px;
      }

      .term {
        font-weight: bold;
        color: #f538ff;
        background: rgba(245, 56, 255, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
      }

      .logic-explanation {
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 8px;
        margin-top: 20px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      body.light-mode .logic-explanation {
        background: #f9f9f9;
        border-color: #eee;
      }

      .logic-item {
        margin-bottom: 20px;
      }
      .logic-item h3 {
        margin: 0 0 5px 0;
        color: #ff8e0d;
      }
      .logic-item p {
        margin: 0;
        color: #ccc;
      }
      body.light-mode .logic-item p {
        color: #555;
      }

      .back-link {
        display: inline-flex;
        align-items: center;
        margin-bottom: 20px;
        color: #4caf50;
        text-decoration: none;
        font-size: 1.1em;
        font-weight: bold;
        transition: color 0.2s;
      }
      .back-link:hover {
        color: #45a049;
        text-decoration: underline;
      }

      code {
        background: rgba(0, 0, 0, 0.3);
        padding: 2px 5px;
        border-radius: 4px;
        font-family: monospace;
      }
      body.light-mode code {
        background: #eee;
      }
    </style>
  </head>
  <body>
    <div class="guide-container">
      <a href="index.html" class="back-link"
        >←
        <span data-en="Back to Game" data-zh-Hant="返回遊戲"
          >Back to Game</span
        ></a
      >

      <h1
        data-en="Tetris Guide & Auto Solver"
        data-zh-Hant="俄羅斯方塊指南與自動解題"
      >
        Tetris Guide & Auto Solver
      </h1>

      <section>
        <h2 data-en="Introduction" data-zh-Hant="介紹">Introduction</h2>
        <p
          data-en="Tetris is a classic tile-matching puzzle game. The goal is simple: guide the falling blocks (Tetrominoes) to create solid horizontal lines without gaps. When a line is completed, it disappears, and you earn points."
          data-zh-Hant="俄羅斯方塊是一款經典的方塊消除解謎遊戲。目標很簡單：引導下落的方塊（Tetrominoes）建立沒有空隙的實心水平行。當一行完成時，它會消失，你就會得分。"
        >
          Tetris is a classic tile-matching puzzle game. The goal is simple:
          guide the falling blocks (Tetrominoes) to create solid horizontal
          lines without gaps. When a line is completed, it disappears, and you
          earn points.
        </p>
      </section>

      <section>
        <h2 data-en="Basic Concepts" data-zh-Hant="基本概念">Basic Concepts</h2>
        <ul>
          <li>
            <span class="term">Tetromino</span>:
            <span
              data-en="The seven distinct shapes composed of four squares (I, J, L, O, S, T, Z)."
              data-zh-Hant="由四個方塊組成的七種不同形狀（I, J, L, O, S, T, Z）。"
              >The seven distinct shapes composed of four squares (I, J, L, O,
              S, T, Z).</span
            >
          </li>
          <li>
            <span class="term">Ghost Piece</span>:
            <span
              data-en="The translucent outline at the bottom of the board showing exactly where the current piece will land."
              data-zh-Hant="棋盤底部的半透明輪廓，顯示當前方塊將落在哪裡。"
              >The translucent outline at the bottom of the board showing
              exactly where the current piece will land.</span
            >
          </li>
          <li>
            <span class="term">Hold (C / Shift)</span>:
            <span
              data-en="Swap the current falling piece with the one in your 'Hold' box. Useful for saving a good piece for later."
              data-zh-Hant="將當前下落的方塊與「暫存」框中的方塊交換。對於保留好方塊以備後用很有用。"
              >Swap the current falling piece with the one in your 'Hold' box.
              Useful for saving a good piece for later.</span
            >
          </li>
          <li>
            <span class="term">Hard Drop (Space)</span>:
            <span
              data-en="Instantly drops the piece to the bottom and locks it in place."
              data-zh-Hant="立即將方塊落到底部並鎖定到位。"
              >Instantly drops the piece to the bottom and locks it in
              place.</span
            >
          </li>
          <li>
            <span class="term">Soft Drop (Down Arrow)</span>:
            <span
              data-en="Accelerates the piece's fall speed but allows you to slide it before locking."
              data-zh-Hant="加快方塊的下落速度，但在鎖定前允許你滑動它。"
              >Accelerates the piece's fall speed but allows you to slide it
              before locking.</span
            >
          </li>
        </ul>
      </section>

      <section>
        <h2 data-en="Advanced Terms" data-zh-Hant="進階術語">Advanced Terms</h2>
        <ul>
          <li>
            <span class="term">Wall Kick</span>:
            <span
              data-en="The ability to rotate a piece even when it's against a wall or another block. The game 'kicks' the piece to an adjacent open space."
              data-zh-Hant="即使方塊緊靠牆壁或其他方塊，也能旋轉方塊的能力。遊戲會將方塊「踢」到相鄰的空位。"
              >The ability to rotate a piece even when it's against a wall or
              another block. The game 'kicks' the piece to an adjacent open
              space.</span
            >
          </li>
          <li>
            <span class="term">DAS (Delayed Auto Shift)</span>:
            <span
              data-en="The delay between pressing a key and the piece starting to move quickly sideways. It allows for precise single taps vs rapid movement."
              data-zh-Hant="按下按鍵與方塊開始快速橫向移動之間的延遲。它允許精確的單次點擊與快速移動。"
              >The delay between pressing a key and the piece starting to move
              quickly sideways. It allows for precise single taps vs rapid
              movement.</span
            >
          </li>
          <li>
            <span class="term">Stack</span>:
            <span
              data-en="The pile of blocks on the playfield that you are trying to keep low."
              data-zh-Hant="棋盤上你試圖保持較低的方塊堆。"
              >The pile of blocks on the playfield that you are trying to keep
              low.</span
            >
          </li>
        </ul>
      </section>

      <section>
        <h2
          data-en="How the Auto Solver Works"
          data-zh-Hant="自動解題器如何運作"
        >
          How the Auto Solver Works
        </h2>
        <p
          data-en="The Auto Solver is built on a heuristic AI algorithm. Unlike deep learning AIs that 'learn' to play, this AI calculates the 'score' of every possible move based on a mathematical formula. It checks every rotation and position for the current piece (and the Hold piece) and picks the one that results in the best board state."
          data-zh-Hant="自動解題器建立在啟發式 AI 演算法之上。與「學習」玩遊戲的深度學習 AI 不同，此 AI 根據數學公式計算每個可能移動的「分數」。它檢查當前方塊（以及暫存方塊）的每個旋轉和位置，並選擇導致最佳棋盤狀態的那個。"
        >
          The Auto Solver is built on a heuristic AI algorithm. Unlike deep
          learning AIs that 'learn' to play, this AI calculates the 'score' of
          every possible move based on a mathematical formula. It checks every
          rotation and position for the current piece (and the Hold piece) and
          picks the one that results in the best board state.
        </p>

        <p
          style="margin-top: 15px; font-style: italic"
          data-en="It tries to maximize the score using these four factors:"
          data-zh-Hant="它試圖使用這四個因素最大化分數："
        >
          It tries to maximize the score using these four factors:
        </p>

        <div class="logic-explanation">
          <div class="logic-item">
            <h3
              data-en="1. Aggregate Height (Weight: -0.51)"
              data-zh-Hant="1. 總高度 (權重: -0.51)"
            >
              1. Aggregate Height (Weight: -0.51)
            </h3>
            <p
              data-en="The sum of the height of all columns. The AI wants to keep the stack as low as possible to avoid topping out (Game Over)."
              data-zh-Hant="所有列高度的總和。AI 希望盡可能保持堆疊較低，以避免觸頂（遊戲結束）。"
            >
              The sum of the height of all columns. The AI wants to keep the
              stack as low as possible to avoid topping out (Game Over).
            </p>
          </div>

          <div class="logic-item">
            <h3
              data-en="2. Complete Lines (Weight: +0.76)"
              data-zh-Hant="2. 完整行 (權重: +0.76)"
            >
              2. Complete Lines (Weight: +0.76)
            </h3>
            <p
              data-en="The number of lines that would be cleared by the move. This is the only positive weight, encouraging the AI to clear lines whenever possible."
              data-zh-Hant="該移動將消除的行數。這是唯一的正權重，鼓勵 AI 盡可能消除行。"
            >
              The number of lines that would be cleared by the move. This is the
              only positive weight, encouraging the AI to clear lines whenever
              possible.
            </p>
          </div>

          <div class="logic-item">
            <h3
              data-en="3. Holes (Weight: -0.36)"
              data-zh-Hant="3. 空洞 (權重: -0.36)"
            >
              3. Holes (Weight: -0.36)
            </h3>
            <p
              data-en="Empty spaces buried under other blocks. Holes are bad because they require clearing the blocks above them to be filled. The AI strongly avoids creating them."
              data-zh-Hant="被其他方塊掩埋的空隙。空洞是不好的，因為它們需要消除上方的方塊才能被填補。AI 強烈避免製造它們。"
            >
              Empty spaces buried under other blocks. Holes are bad because they
              require clearing the blocks above them to be filled. The AI
              strongly avoids creating them.
            </p>
          </div>

          <div class="logic-item">
            <h3
              data-en="4. Bumpiness (Weight: -0.18)"
              data-zh-Hant="4. 凹凸度 (權重: -0.18)"
            >
              4. Bumpiness (Weight: -0.18)
            </h3>
            <p
              data-en="The sum of the absolute height differences between adjacent columns. A 'bumpy' surface is hard to place pieces on efficiently. The AI strives for a flat surface."
              data-zh-Hant="相鄰列之間絕對高度差的總和。「凹凸不平」的表面很難有效地放置方塊。AI 力求平坦的表面。"
            >
              The sum of the absolute height differences between adjacent
              columns. A 'bumpy' surface is hard to place pieces on efficiently.
              The AI strives for a flat surface.
            </p>
          </div>
        </div>
      </section>
    </div>

    <script type="module">
      import { initThemeToggle } from "../../assets/theme-toggle.js";
      import { initLocaleMenu } from "../../assets/locale-menu.js";
      import { initHeader } from "../../assets/header.js";

      initHeader("../../index.html");
      initThemeToggle();
      initLocaleMenu();
    </script>
  </body>
</html>
